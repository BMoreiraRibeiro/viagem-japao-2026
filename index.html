<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#FF6B6B">
    <meta name="description" content="ItinerÃ¡rio da viagem ao JapÃ£o 2026">
    <title>ğŸ‡¯ğŸ‡µ JapÃ£o 2026</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
    <link rel="shortcut icon" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- Leaflet CSS for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <h1>ğŸ‡¯ğŸ‡µ JapÃ£o 2026</h1>
            <p class="subtitle">18 Set - 10 Out</p>
            <div class="header-actions">
                <button id="darkModeToggle" class="dark-mode-toggle" title="Alternar tema escuro">
                    ğŸŒ™
                </button>
                <div class="online-status" id="onlineStatus">
                    <span class="status-dot"></span>
                    <span class="status-text">Online</span>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="nav-tab active" data-view="timeline">
                ğŸ“… ItinerÃ¡rio
            </button>
            <button class="nav-tab" data-view="converter">
                ğŸ’± Conversor
            </button>
            <button class="nav-tab" data-view="info">
                â„¹ï¸ Info
            </button>
        </nav>

        <!-- Main Content -->
        <main class="content">
            <!-- Timeline View -->
            <div id="timelineView" class="view active">
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="ğŸ” Procurar dia, local ou atividade...">
                </div>
                <div class="day-selector">
                    <label for="daySelect">ğŸ“ Ir para o dia:</label>
                    <select id="daySelect" class="day-select">
                        <option value="">Selecionar dia...</option>
                    </select>
                    <button id="currentDayBtn" class="current-day-btn" title="Ir para o dia atual">ğŸ“… Dia Atual</button>
                </div>
                <div id="daysList" class="days-list"></div>
            </div>

            <!-- Converter View -->
            <div id="converterView" class="view">
                <div class="converter-container">
                    <div class="converter-header">
                        <h2>ğŸ’± Conversor EUR â‡„ YEN</h2>
                        <div class="exchange-rate-info" id="exchangeRateInfo">
                            <span class="rate-status" id="rateStatus">A carregar taxa...</span>
                            <div class="rate-value" id="rateValue"></div>
                            <div class="rate-updated" id="rateUpdated"></div>
                        </div>
                    </div>

                    <div class="converter-card">
                        <div class="currency-input">
                            <label for="eurInput">ğŸ’¶ Euro (EUR)</label>
                            <div class="input-wrapper">
                                <input type="number" id="eurInput" placeholder="0.00" step="0.01" min="0">
                                <span class="currency-symbol">â‚¬</span>
                            </div>
                            <div class="conversion-result" id="eurToYenResult"></div>
                        </div>

                        <div class="converter-divider"></div>

                        <div class="currency-input">
                            <label for="yenInput">ğŸ’´ Iene JaponÃªs (JPY)</label>
                            <div class="input-wrapper">
                                <input type="number" id="yenInput" placeholder="0" step="1" min="0">
                                <span class="currency-symbol">Â¥</span>
                            </div>
                            <div class="conversion-result" id="yenToEurResult"></div>
                        </div>
                    </div>

                    <div class="quick-amounts">
                        <h3>Valores RÃ¡pidos:</h3>
                        <div class="quick-buttons">
                            <button class="quick-btn" data-amount="10">10â‚¬</button>
                            <button class="quick-btn" data-amount="20">20â‚¬</button>
                            <button class="quick-btn" data-amount="50">50â‚¬</button>
                            <button class="quick-btn" data-amount="100">100â‚¬</button>
                            <button class="quick-btn" data-amount="500">500â‚¬</button>
                        </div>
                    </div>

                    <div class="converter-tips">
                        <h3>ğŸ’¡ Dicas de CÃ¢mbio:</h3>
                        <ul>
                            <li><strong>CartÃµes:</strong> Usa cartÃµes sem comissÃµes de cÃ¢mbio (Revolut, N26, Wise)</li>
                            <li><strong>Dinheiro:</strong> Troca algum antes de ir, mas nÃ£o muito</li>
                            <li><strong>ATMs:</strong> 7-Eleven e Post Bank tÃªm taxas baixas</li>
                            <li><strong>IC Card:</strong> Suica/Pasmo aceitam cartÃ£o estrangeiro para recarregar</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Info View -->
            <div id="infoView" class="view">
                <div class="info-section">
                    <h2>ğŸ’° Dicas de PoupanÃ§a</h2>
                    <div class="tip-card">
                        <h3>ğŸšŒ Autocarro Noturno</h3>
                        <p>Poupa Shinkansen e uma noite de hotel</p>
                        <a href="https://willerexpress.com/en/" target="_blank" class="link-btn">
                            Willer Express â†’
                        </a>
                    </div>
                    <div class="tip-card">
                        <h3>âœˆï¸ Voos Low Cost</h3>
                        <p>Para trajetos longos (Nagoya â†’ Kumamoto, Fukuoka â†’ Osaka)</p>
                        <a href="https://www.flypeach.com/en" target="_blank" class="link-btn">
                            Peach Aviation â†’
                        </a>
                        <a href="https://www.jetstar.com/jp/en/home" target="_blank" class="link-btn">
                            Jetstar Japan â†’
                        </a>
                    </div>
                    <div class="tip-card">
                        <h3>ğŸš— Carro em Kumamoto</h3>
                        <p>ImprescindÃ­vel para ver as estÃ¡tuas One Piece</p>
                        <p><strong>âš ï¸ NecessÃ¡ria LicenÃ§a Internacional</strong></p>
                    </div>
                    <div class="tip-card">
                        <h3>ğŸ’³ CartÃ£o IC (Suica/Pasmo)</h3>
                        <p>Adiciona Ã  Apple/Google Wallet para metros e compras</p>
                    </div>
                </div>

                <div class="info-section">
                    <h2>ğŸ¨ Alojamento (40-60â‚¬/noite)</h2>
                    <div class="accommodation-list">
                        <div class="acc-item">
                            <strong>Osaka:</strong> Hotel Relief Namba Daikokucho / Sotetsu Fresa Inn Namba
                        </div>
                        <div class="acc-item">
                            <strong>Kyoto:</strong> Travelodge Kyoto Shijo Omiya / Hop Inn Kyoto
                        </div>
                        <div class="acc-item">
                            <strong>TÃ³quio:</strong> Hotel Wing International Select / Sakura Hotel (Ikebukuro)
                        </div>
                        <div class="acc-item">
                            <strong>Kumamoto:</strong> Nest Hotel Kumamoto / Dormy Inn (tem Onsen)
                        </div>
                        <div class="acc-item">
                            <strong>Kawaguchiko:</strong> Hotel Asafuji / K's House Mt. Fuji
                        </div>
                    </div>
                </div>

                <div class="info-section">
                    <h2>ğŸ”§ Sobre a App</h2>
                    <p>Esta aplicaÃ§Ã£o funciona offline! Podes acedÃª-la sem internet durante a viagem.</p>
                    <button id="installBtn" class="install-btn" style="display: none;">
                        ğŸ“± Instalar na Home Screen
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Day Detail Modal -->
    <div id="dayModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">âœ•</button>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- Map Modal -->
    <div id="mapModal" class="modal">
        <div class="modal-content map-modal-content">
            <button class="modal-close" id="mapModalClose">âœ•</button>
            <div id="mapModalBody">
                <div class="map-header">
                    <h2 id="mapDayTitle">Mapa do Dia</h2>
                    <div class="location-status" id="locationStatus">
                        <span class="location-icon">ğŸ“</span>
                        <span id="locationText">A obter localizaÃ§Ã£o...</span>
                    </div>
                </div>
                <div id="interactiveMap" class="interactive-map"></div>
                <div class="route-suggestions" id="routeSuggestions">
                    <h3>ğŸ“ Ordem Sugerida de Visita:</h3>
                    <div id="routeList"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <!-- Leaflet JS for maps -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</body>
</html>
